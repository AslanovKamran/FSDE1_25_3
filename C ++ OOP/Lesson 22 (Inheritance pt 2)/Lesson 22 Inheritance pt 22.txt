üìö –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ç–µ–º—ã –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.

–í –°++ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. –°—Ä–∞–∑—É —Å–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ –≤–∏–¥—É –∫—É—á–∏ –ø—Ä–æ–±–ª–µ–º, –≤—ã–∑–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–æ–π –≤ —è–∑—ã–∫–∞—Ö –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è —Ç–∞–∫–æ–≥–æ –ø–æ–Ω—è—Ç–∏—è –Ω–µ—Ç. 

üï∏Ô∏è –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ 1 –∫–ª–∞—Å—Å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª–∞—Å—Å–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä —É –Ω–∞—Å –µ—Å—Ç—å –∫–ª–∞—Å—Å Spider –∏ –µ—Å—Ç—å –∫–ª–∞—Å—Å Man –∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç —ç—Ç–∏—Ö –¥–≤—É—Ö –∫–ª–∞—Å—Å–æ–≤ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –∫–ª–∞—Å—Å Spiderman.

–î–æ–ø—É—Å—Ç–∏–º —É –Ω–∞—Å –µ—Å—Ç—å –¥–≤–∞ –∫–ª–∞—Å—Å–∞ 

    class Printer
    {
    public:
        Printer()
        {
            cout <<"Printer created\n";
        }
        ~Printer()
        {
            cout <<"Printer destroyed\n";
        }
    };

    class Scanner
    {
    public:
        Scanner()
        {
            cout <<"Scanner created\n";
        }
        ~Scanner()
        {
            cout <<"Scanner destroyed\n";
        }
    };

–ò –º—ã —Ö–æ—Ç–∏–º —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å –∫—Å–µ—Ä–æ–∫—Å, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã. –¢–æ–≥–¥–∞ –≤–ø–æ–ª–Ω–µ –ª–æ–≥–∏—á–Ω–æ –æ—Ç–Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –µ–≥–æ —Å—Ä–∞–∑—É –æ—Ç –æ–±–æ–∏—Ö –∫–ª–∞—Å—Å–æ–≤. –î–µ–ª–∞–µ—Ç—Å—è —ç—Ç–æ –ø—Ä–æ—Å—Ç—ã–º –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ–º –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤.

    class Xerox public: Printer, public Scanner
    {
    public:
        Xerox()
        {
            cout <<"Xerox created\n";
        }
        ~Xerox()
        {
            cout <<"Xerox destroyed\n";
        }
    };

ü§î –°—Ä–∞–∑—É –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤–æ–ø—Ä–æ—Å, —á—Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º–∏ –∏ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∏ –≤ –∫–∞–∫–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ–Ω–∏ –±—É–¥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è.

    int main()
    {
        Xerox x;

        x.scan();
        x.print();
    }


üëâ –ö–æ–Ω—Å–æ–ª—å:

    Printer created
    Scanner created
    Xerox created
    Scanning...
    Printing...
    Xerox destroyed
    Scanner destroyed
    Printer destroyed


üìå –í—ã–≤–æ–¥:
    –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã, –≤ –ø–æ—Ä—è–¥–∫–µ –∏—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏.

    –ó–∞—Ç–µ–º —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ–±—ä–µ–∫—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.

    –ü—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ –ø–æ—Ä—è–¥–æ–∫ –æ–±—Ä–∞—Ç–Ω—ã–π ‚Äî —Å–Ω–∞—á–∞–ª–∞ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–≥–æ, –∑–∞—Ç–µ–º –±–∞–∑–æ–≤—ã—Ö (–≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ).


‚ö†Ô∏è –ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –∑–¥–µ—Å—å. –°–∞–º–∏ –∫–ª–∞—Å—Å—ã Printer –∏ Scanner –æ–±—Å–æ–ª—é—Ç–Ω–æ –Ω–∏–∫–∞–∫ –Ω–µ —Å–≤—è–∑–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π –∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞. –¢–µ–ø–µ—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –µ—Å–ª–∏ –≤ –æ–±–æ–∏—Ö –∫–ª–∞—Å—Å–∞—Ö –µ—Å—Ç—å –º–µ—Ç–æ–¥ void info().  

    x.info(); ‚ùå


ü§î –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ –º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å, –∫–∞–∫—É—é –∏–º–µ–Ω–Ω–æ –≤–µ—Ä—Å–∏—é –º–µ—Ç–æ–¥–∞ info() –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å:
–∏–∑ –∫–ª–∞—Å—Å–∞ Printer –∏–ª–∏ –∏–∑ –∫–ª–∞—Å—Å–∞ Scanner.
–û–±–µ –æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã, –∏ —è–∑—ã–∫ C++ –Ω–µ –¥–µ–ª–∞–µ—Ç –≤—ã–±–æ—Ä –∑–∞ –≤–∞—Å.


‚úÖ –†–∞–∑—Ä–µ—à–∏—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É –º–æ–∂–Ω–æ 2–º—è —Å–ø–æ—Å–æ–±–∞–º–∏. 

1. —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ—Ç –∏–º–µ–Ω–∏ –∫–∞–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ —è –≤—ã–∑—ã–≤–∞—é —Ç–æ—Ç –∏–ª–∏ –∏–Ω–æ–π –º–µ—Ç–æ–¥.

    x.Printer::info(); //Printing...
    x.Scanner::info(); //Scanning...

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –≤—ã —Ç–æ—á–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É, –∫–∞–∫—É—é –≤–µ—Ä—Å–∏—é –º–µ—Ç–æ–¥–∞ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.


2. –í —Å–∞–º–æ–º –∫–ª–∞—Å—Å–µ Xerox —Å–æ–∑–¥–∞—Ç—å –º–µ—Ç–æ–¥ info –∏ –≤—ã–∑–≤–∞—Ç—å –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏ 2 –±–∞–∑–æ–≤—ã—Ö –º–µ—Ç–æ–¥–∞ –º–µ—Ç–æ–¥–∞


    class Xerox public: Printer, public Scanner
    {
    public:
        Xerox()
        {
            cout <<"Xerox created\n";
        }
        ~Xerox()
        {
            cout <<"Xerox destroyed\n";
        }

        void info()
        {
            Printer::info();
            Scanner::info();
        }
    };

    int main()
    {
        Xerox x;
        x.info(); ‚úÖ 
    }

üìå –í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å:
–ï—Å–ª–∏ –≤ –∫–ª–∞—Å—Å–µ –µ—Å—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –µ–º—É –æ—Ç–¥–∞–µ—Ç—Å—è –±–æ–ª—å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –∏–º–µ–Ω.

‚ö†Ô∏è –ù–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å –ø–æ–ª–µ–π –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏

–ü—Ä–æ–±–ª–µ–º–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥—ã,
–Ω–æ –∏ –ø–æ–ª—è –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤. –î–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –≤ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º –∏–º–µ–Ω –ø–æ–ª–µ–π –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–∞–∫–¥–µ –æ–¥–∏–Ω –∏–∑ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤.

ü§Ø –≠—Ç–æ –µ—â–µ –Ω–µ —Å–∞–º–∞—è –±–æ–ª—å—à–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏. –°—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–∞–∫–∞—è —Å—Ö–µ–º–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –Ω–∞–∑—ã–≤–∞–µ–º–æ–π —Ä–æ–º–±–æ–≤–∏–¥–Ω–æ–π (diamond inheritance). –ò–º–µ–Ω–Ω–æ –≤–æ –º–Ω–æ–≥–æ–º –∏–∑-–∑–∞ –Ω–µ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –≤ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö. 

üî∑ –ö–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –∫–ª–∞—Å—Å Device, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è Printer –∏ Scanner. –¢–æ–≥–¥–∞ —Å—Ö–µ–º—É –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤ —Ç–∞–∫–æ–º –≤–∏–¥–µ:

            Device
        /           \
    Printer        Scanner
        \           /
            Xerox


–°–æ–∑–¥–∞–¥–∏–º —ç—Ç–æ—Ç –∫–ª–∞—Å—Å Device, –ø—Ä–æ–ø–∏—Å–∞–≤ –≤ –Ω–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∞ —Ç–∞–∫–∂–µ –æ—Ç–Ω–∞—Å–ª–µ–¥—É–µ–º Printer –∏ Scanner –æ—Ç –Ω–µ–≥–æ 

    class Device
    {
    public:
        Device()
        {
            cout <<"Device created\n";
        }
        ~Device()
        {
            cout <<"Device destroyed\n";
        }
    };

    class Printer : Device
    {};

    class Scanner : Device
    {};


–ò –ø–æ–ø—ã—Ç–∞–µ–º—Å—è —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å Xerox –∏ –ø—Ä–æ–≤–µ—Ä–∏–º –∫–æ–Ω—Å–æ–ª—å.

    int main()
    {
        Xerox x;
    }

üìå –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Device –±—É–¥—É—Ç –≤—ã–∑–≤–∞–Ω—ã –¥–≤–∞–∂–¥—ã.
–ü–æ—á–µ–º—É? –ü–æ—Ç–æ–º—É —á—Ç–æ Xerox –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç –¥–≤—É—Ö –∫–ª–∞—Å—Å–æ–≤ (Printer –∏ Scanner), –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–≤–æ—é –∫–æ–ø–∏—é –±–∞–∑–æ–≤–æ–≥–æ Device.

–î–∞–ª–µ–µ, –µ—Å–ª–∏ –≤ –Ω–∞—à–µ–º Device –µ—Å—Ç—å –ø—É–±–ª–∏—á–Ω–æ–µ –ø–æ–ª–µ bool isOn. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫—Å–µ—Ä–æ–∫—Å–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –ø—Ä–∏–Ω—Ç–µ—Ä –∏ —Å–∫–∞–Ω–Ω–µ—Ä, –∏ —ç—Ç–æ –ø–æ–ª–µ —É–Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –≤ –Ω–∏—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

–ò —è —Ö–æ—á—É –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ info –Ω–∞ —Ç–æ –≤–∫–ª—é—á–µ–Ω –∫—Å–µ—Ä–æ–∫—Å –∏–ª–∏ –Ω–µ—Ç:

    void info()
    {
        Printer::info();
        Scanner::info();
        cout << isOn << endl;
    }

–í–æ –ø–µ—Ä–≤—ã—Ö —è —Ç–∞–∫ —Å–¥–µ–ª–∞—Ç—å –Ω–µ —Å–º–æ–≥—É —Ç–∞–∫ –∫–∞–∫ isOn –ø–æ—Ä–æ–∂–¥–∞–µ—Ç –¥–≤—É—Å–º—ã—Å–ª–∏–µ. –Ø –¥–æ–ª–∂–µ–Ω –Ω–∞–ø—Ä—è–º—É—é —É–∫–∞–∑–∞—Ç—å –∫ –ø–æ–ª—é –∫–∞–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ —è –æ–±—Ä–∞—â–∞—é—Å—å. 

    void info()
    {
        Printer::info();
        Scanner::info();
        cout << Printer::isOn << endl;
        cout << Scanner::isOn << endl;
    }

‚ö†Ô∏è –ò –≤–æ–∑–º–æ–∂–Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—è –∫–æ–≥–¥–∞ —É –º–µ–Ω—è –∫—Å–µ—Ä–æ–∫—Å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤–∫–ª—é—á–µ–Ω –∏ –≤—ã–∫–ª—é—á–µ–Ω.

üìå –ö–∞–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ - –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –∞ –æ—Å–æ–±–µ–Ω–Ω–æ diamond scheme.