üìö –ö–ª–∞—Å—Å—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ C#

–í —è–∑—ã–∫–µ C++ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –æ—Ç–ª–∏—á–∏–µ–º –º–µ–∂–¥—É —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∏ –∫–ª–∞—Å—Å–æ–º –±—ã–ª —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
–í C# –æ—Ç–ª–∏—á–∏–π —Å—Ç–∞–ª–æ –±–æ–ª—å—à–µ, –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏—Ö ‚Äî –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ.

üß© –ü—Ä–∏–º–µ—Ä –æ–±—ä—è–≤–ª–µ–Ω–∏—è

–í C# –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ public, protected, private —Ç–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –ø–æ–ª–µ–º –∏–ª–∏ –º–µ—Ç–æ–¥–æ–º.
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–≤–∞ –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∏–º–µ—Ä–∞:

    class MyClass 
    {
        public int x;
        public int y;
    }

    struct MyStruct
    {
        public int x;
        public int y;
    }

üí° –¢–∞–∫–∂–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–æ—Å—Ç—É–ø–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - private –∏ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä –∏ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤.


‚öôÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

–°–ª–µ–¥—É—é—â–µ–µ –æ—Ç–ª–∏—á–∏–µ –º–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å –ø—Ä–æ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

    void Main()
    {
        MyClass cl;
        MyStruct str;        
    }

–ó–¥–µ—Å—å:

    cl ‚Äî —ç—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç –≤ –∫—É—á–µ (heap), –Ω–æ –ø–æ–∫–∞ –æ–Ω–∞ –Ω–∏–∫—É–¥–∞ –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ new.

    str ‚Äî —ç—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∑–Ω–∞—á–∏–º–æ–≥–æ —Ç–∏–ø–∞, –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ–Ω–∞ –≤ —Å—Ç–µ–∫–µ (stack).


üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç new –¥–ª—è –∫–ª–∞—Å—Å–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä

–û–ø–µ—Ä–∞—Ç–æ—Ä new —Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Ä–∞–∑–Ω–æ–º—É –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä –∏ –∫–ª–∞—Å—Å–æ–≤:

    MyClass cl = new MyClass();
    MyStruct str = new MyStruct();

‚úÖ –î–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä:

–í—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å –ø–æ–¥ —Å–∞–º—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–æ–±—ã—á–Ω–æ –≤ —Å—Ç–µ–∫–µ, –µ—Å–ª–∏ –æ–Ω–∞ ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è) –∞ —Ç–∞–∫–∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ –ø–æ–ª—è –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ x = 0, y = 0); str –≤—Å–µ —ç—Ç–æ –∑–Ω–∞—á–∏–º—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –≤ —Å—Ç–µ–∫–µ. 
–í—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (–µ—Å–ª–∏ –æ–Ω –æ–ø—Ä–µ–¥–µ–ª—ë–Ω) ‚Äî –Ω–æ —Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Äless –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–µ—Å–ª–∏ –µ—Å—Ç—å).

üìä –ü–∞–º—è—Ç—å:

+-----------+
|  str.x=0  |
|  str.y=0  |
+-----------+



‚úÖ –î–ª—è –∫–ª–∞—Å—Å–æ–≤:

–í—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å –≤ –∫—É—á–µ (heap) –ø–æ–¥ –æ–±—ä–µ–∫—Ç MyClass (—Ä–∞–∑–º–µ—Ä–æ–º –ø–æ–¥ –≤—Å–µ –µ–≥–æ –ø–æ–ª—è ‚Äî x –∏ y), –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª—è –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (x = 0, y = 0).
–í—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞ (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –ø—É—Å—Ç–æ–π) –∏ –Ω–∞–∫–æ–Ω–µ—Ü –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –≤ –∫—É—á–µ. –≠—Ç–∞ —Å—Å—ã–ª–∫–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é cl.


üìä –ü–∞–º—è—Ç—å:

–°—Ç–µ–∫ (Stack):
+--------+
|  c ->  | --------+
+--------+          \
                      \
                       v
–ö—É—á–∞ (Heap):      +-----------+
                  | x = 0     |
                  | y = 0     |
                  +-----------+

‚úÖ –ò—Ç–æ–≥:

–î–ª—è –∫–ª–∞—Å—Å–æ–≤ new —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç –≤ –∫—É—á–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–µ–≥–æ.
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∫–ª–∞—Å—Å–∞ —Ö—Ä–∞–Ω–∏—Ç —Å—Å—ã–ª–∫—É, –∞ –Ω–µ —Å–∞–º –æ–±—ä–µ–∫—Ç.
–î–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä new –ø—Ä–æ—Å—Ç–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª—è, –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å–∞–º–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.

–ò–º–µ–Ω–Ω–æ –ø–æ —ç—Ç–æ–º—É —è –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫:

    MyClass cl = null; ‚úÖ 

–Ω–æ –Ω–µ –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫:

    MyStruct str = null; ‚ùå 


üí° –î—Ä—É–≥–∏–º –≤–∞–∂–Ω—ã–º –æ—Ç–ª–∏—á–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ. –í –∫–ª–∞—Å—Å–∞–º–∏ —Ç–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –Ω–µ—Ç (—É—á–∏—Ç–≤–∞—Ç—å –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –º–Ω–æ–∂–µ—Å–≤—Ç–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ).


‚ö° –ü–µ—Ä–µ–¥–∞—á–∞ –∫–ª–∞—Å—Å–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä –≤ –º–µ—Ç–æ–¥—ã
–¢–µ–ø–µ—Ä—å –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –∫–ª–∞—Å—Å—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤–µ–¥—É—Ç —Å–µ–±—è –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –≤ –º–µ—Ç–æ–¥—ã.

üß© –ü—Ä–∏–º–µ—Ä —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

–î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º —Ç–µ—Å—Ç–æ–≤—ã–π –º–µ—Ç–æ–¥ 

    static void Foo(MyStruct s)
    {
        s.x = 100;
        s.y = 100;
    }

    static void Main()
    {
        MyStruct str = new MyStruct();
        
        Console.WriteLine($"Struct data before: X = {str.x} Y = {str.y}");
        Foo(str);
        Console.WriteLine($"Struct data after: X = {str.x} Y = {str.y}");
    }

üß† –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

    –ü—Ä–∏ –≤—ã–∑–æ–≤–µ Foo(str) –≤ –º–µ—Ç–æ–¥ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–æ–ø–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã str.
    –ú–µ—Ç–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —ç—Ç–æ–π –∫–æ–ø–∏–µ–π, –∞ –∏—Å—Ö–æ–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π.


üß± –ü—Ä–∏–º–µ—Ä —Å –∫–ª–∞—Å—Å–æ–º

    static void Bar(MyClass c)
    {
        c.x = 100;
        c.y = 100;
    }

    static void Main()
    {
        MyClass cl = new MyClass();
        
        Console.WriteLine($"Struct data before: X = {cl.x} Y = {cl.y}");
        Bar(cl);
        Console.WriteLine($"Struct data after: X = {cl.x} Y = {cl.y}");
    }

üß† –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

    –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è cl —Ö—Ä–∞–Ω–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç –≤ –∫—É—á–µ.
    –ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –≤ –º–µ—Ç–æ–¥ Bar(cl) –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Å–∞–º–∞ —Å—Å—ã–ª–∫–∞, –∞ –Ω–µ –∫–æ–ø–∏—è –æ–±—ä–µ–∫—Ç–∞.
    –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–µ—Ç–æ–¥–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π –æ–±—ä–µ–∫—Ç.

üí° –ü–æ—ç—Ç–æ–º—É –∫–ª–∞—Å—Å—ã –Ω–∞–∑—ã–≤–∞—é—Ç —Å—Å—ã–ª–æ—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏, –∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚Äî –∑–Ω–∞—á–∏–º—ã–º–∏.


üîÅ –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ ref

–ú—ã —É–∂–µ –∑–Ω–∞–µ–º, —á—Ç–æ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ –º–µ—Ç–æ–¥, –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–æ–ø–∏—è, –∞ –Ω–µ –æ—Ä–∏–≥–∏–Ω–∞–ª. –ò–Ω–æ–≥–¥–∞, –Ω–∞–º –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–∞–º—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –∞ –Ω–µ –µ—ë –∫–æ–ø–∏—é. –î–ª—è —ç—Ç–æ–≥–æ –∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ ref.

    static void Foo(ref MyStruct s)
    {
        s.x = 100;
    }

    static void Main()
    {
        MyStruct str = new MyStruct();
        str.x = 10;

        Foo(ref str);
        Console.WriteLine(str.x); // 100
    }

üß† –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ ref —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É:
‚Äú–ü–µ—Ä–µ–¥–∞–≤–∞–π –Ω–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ —Å–∞–º—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é‚Äù.
–û–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–æ –∏ –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –º–µ—Ç–æ–¥–∞, –∏ –ø—Ä–∏ –µ–≥–æ –≤—ã–∑–æ–≤–µ.


üéØ –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ out

–ò–Ω–æ–≥–¥–∞ –Ω–∞–º –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∞—Å—å –Ω–µ –≤ –º–µ—Å—Ç–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è, –∞ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞, –∫—É–¥–∞ –º—ã –µ—ë –ø–µ—Ä–µ–¥–∞—ë–º.
–í C# —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ out.

üí° –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞

–û–±—ã—á–Ω–æ, –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –ø–µ—Ä–µ–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ –º–µ—Ç–æ–¥, –º—ã –¥–æ–ª–∂–Ω—ã –µ—ë –∑–∞—Ä–∞–Ω–µ–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:

    void Foo(ref int x)
    {
        x = 10;
    }

    int number = 0;     // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
    Foo(ref number);
    Console.WriteLine(number); // 10


–ù–æ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å out, –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –º–æ–∂–Ω–æ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞—Ä–∞–Ω–µ–µ,
—Ç–∞–∫ –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ –µ–π –±—É–¥–µ—Ç –ø—Ä–∏—Å–≤–æ–µ–Ω–æ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ (–≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ):

    void Bar(out int x)
    {
        x = 20; // –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∑–¥–µ—Å—å
    }

    int number;          // –ë–µ–∑ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è ‚úÖ
    Bar(out number);
    Console.WriteLine(number); // 20

üìò –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, out –≥–æ–≤–æ—Ä–∏—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É:
‚Äú–ù–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –ø–æ–ª—É—á–∏—Ç —Å–≤–æ—ë –∑–Ω–∞—á–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞.‚Äù


üß† –ì–¥–µ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ:

–í C# –º–µ—Ç–æ–¥ –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä return.
–ù–æ –µ—Å–ª–∏ –Ω–∞–º –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ,
–º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å out. 

–ù–∞–ø—Ä–∏–º–µ—Ä, –ø—É—Å—Ç—å –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏ —Å—É–º–º—É, –∏ —Ä–∞–∑–Ω–æ—Å—Ç—å –¥–≤—É—Ö —á–∏—Å–µ–ª:

    static void Calculate(int a, int b, out int sum, out int diff)
    {
        sum = a + b;
        diff = a - b;
    }

    static void Main()
    {
        Calculate(10, 3, out int s, out int d);
        Console.WriteLine($"Sum = {s}, Difference = {d}");
    }

Sum = 13, Difference = 7


üîç –ú–µ—Ç–æ–¥ TryParse

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã –∑–Ω–∞–µ–º, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω –∫–ª—é—á–µ–≤–æ–π —Å–ª–æ–≤–æ out, –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –º–µ—Ç–æ–¥—É TryParse, –∫–æ—Ç–æ—Ä—ã–π –º—ã —É–∂–µ —É–ø–æ–º–∏–Ω–∞–ª–∏ —Ä–∞–Ω–µ–µ.

–ú–µ—Ç–æ–¥ TryParse –æ–ø—Ä–µ–¥–µ–ª—ë–Ω, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Int32 (–∞ —Ç–∞–∫–∂–µ –≤ Double, Decimal –∏ –¥—Ä.) –∏ —Å–ª—É–∂–∏—Ç –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫–∏ –≤ —á–∏—Å–ª–æ.

‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ –º–µ—Ç–æ–¥–∞ Parse

–ú–µ—Ç–æ–¥ Parse —Ö–æ—Ä–æ—à, –∫–æ–≥–¥–∞ –º—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–¥—ë—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–¥—ë—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, "hello", –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π:

    int number = Int32.Parse("hello"); // ‚ùå FormatException


üß© –†–µ—à–µ–Ω–∏–µ ‚Äî –º–µ—Ç–æ–¥ TryParse

–ú–µ—Ç–æ–¥ TryParse —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É.
–û–Ω –Ω–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∞ –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç false, –µ—Å–ª–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å.
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ out, —á—Ç–æ–±—ã ‚Äú–≤–µ—Ä–Ω—É—Ç—å‚Äù —Å–∞–º–æ —á–∏—Å–ª–æ.

    string input = "123";
    bool result = Int32.TryParse(input, out int number);


–ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

    –ú–µ—Ç–æ–¥ –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É "123" –≤ —á–∏—Å–ª–æ.

    –ï—Å–ª–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è number –ø–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ 123, –∞ result = true.

    –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî number —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è 0, –∞ result = false.


    Console.Write("–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ: ");
    string input = Console.ReadLine();
    bool parseReult = Int32.TryParse(input, out int number)
    if (parseReult)
    {
        Console.WriteLine($"Your number is  {number}");
    }
    else
    {
        Console.WriteLine("Error: invalid number format. Default value 0 is assigned to number. {number}");
    }
